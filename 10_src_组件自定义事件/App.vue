<template>
  <div class='dpp'>
    <h2 v-text="msg"></h2>
    <h2>Appç»„ä»¶ä¸­å±•ç¤ºè·å–çš„Studentç»„ä»¶çš„name:{{studentName}}</h2>
    <!-- 1.é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’å‡½æ•°ç”¨props,å®ç°å­ç»„ä»¶æ•°æ®ç»™çˆ¶ç»„ä»¶ -->
    <School :getSchoolName="getSchoolName"></School>
    <!-- 2.1é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°ï¼šå­ç»™çˆ¶ä¼ é€’æ•°æ®(v-onç­‰åŒ@) (.onceèƒ½è®©äº‹ä»¶åªè§¦å‘ä¸€æ¬¡)-->
    <Student @atxiana="getStudentName" @demo="m1"></Student>
    <!-- <Student v-on:atxiana.once="getStudentName" ></Student> -->
    <!-- 2.2é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°ï¼šå­ç»™çˆ¶ä¼ é€’æ•°æ®ï¼ˆç¬¬äºŒç§å†™æ³•ï¼Œä½¿ç”¨ref,å†åœ¨é’©å­å‡½æ•°ä¸­ç»‘å®šè§¦å‘äº‹ä»¶åå’Œè§¦å‘å‡½æ•°ï¼‰ -->
    <!-- //æµ‹è¯•åŸç”Ÿäº‹ä»¶ååœ¨ç»„ä»¶èº«ä¸Šæ—¶ï¼Œä¼šè¢«è®¤ä¸ºä¸ºè‡ªå®šä¹‰äº‹ä»¶,è‹¥ä¸æƒ³è¢«è®¤ä¸ºä¸ºè‡ªå®šä¹‰äº‹ä»¶ï¼Œå°±éœ€è¦åŠ .native -->
    <Student ref="student" @click.native="alert1"></Student>
  </div>
</template>

<script>
import Student from './components/Student.vue'
import School from './components/School.vue'
export default {
    name:'App',
    components:{
        School,
        Student
    },
    data(){
        return {
            msg:'æˆ‘æ˜¯App,æœ‰è¾¹æ¡†',
            studentName:''
        }
    },
    methods:{
        getSchoolName(name,...params){
            console.log('æˆ‘è·å–åˆ°äº†å­ç»„ä»¶æ•°æ®:',name,params)
        },
        getStudentName(name){
            console.log('getStudentNameè¢«è°ƒç”¨äº†',name)
            this.studentName = name
        },
        m1(){
            console.log("demoäº‹ä»¶è¢«è§¦å‘äº†")
        },
        alert1(){
            alert("alert1å‡½æ•°è¢«è°ƒç”¨äº†")
        }
    },
    mounted(){
        /* setTimeout(() => {
            
            // this.$refs.student.$on("atxiana",this.getStudentName); //â­thisæŒ‡å‘app
            this.$refs.student.$on("atxiana",function(){
                // â­thisæŒ‡å‘studentå®ä¾‹ï¼Œè€Œç›´æ¥ç”¨methodsä¸­çš„æ–¹æ³•åˆ™æŒ‡å‘appå®ä¾‹,methodsæ˜¯ç‰¹æ®Šçš„å±äºVueçš„è§„åˆ™
                console.log("@æ­¤æ—¶é’©å­ä¸­ç»‘å®šäº‹ä»¶ä¸­æ™®é€šå‡½æ•°this:",this)
            });
            // ğŸ‘‡ä½¿ç”¨$onceä»¤äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡
            // this.$refs.student.$once("atxiana",this.getStudentName);
        }, 1000); */
    }
}
</script>

<style> 
    .dpp {
        border: solid;
    }
    button {
        font-size: 24px;
        display: block;
    }
</style>